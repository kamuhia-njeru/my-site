<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FAQs - Crypto Trading Market</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Arial', sans-serif;
    }
    
    body, html {
      height: 100%;
      color: #333;
      overflow-x: hidden;
      position: relative;
      background-color: #f5f5f5;
    }
    
    .background-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
    }
    
    .background-container video {
      min-width: 100%;
      min-height: 100%;
      width: auto;
      height: auto;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      object-fit: cover;
      opacity: 0.15;
    }
    
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(12, 12, 12, 0.95);
      padding: 10px 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      position: relative;
      z-index: 1;
    }
    
    .logo-title {
      display: flex;
      align-items: center;
    }
    
    .logo-title video {
      width: 50px;
      height: 50px;
      margin-right: 15px;
    }
    
    .logo-title h1 {
      font-size: 28px;
      font-weight: bold;
      color: #2e7d32;
      cursor: pointer;
      white-space: nowrap;
    }
    
    .nav {
      display: flex;
      gap: 15px;
      align-items: center;
    }
    
    .nav a {
      color: #2e7d32;
      text-decoration: none;
      font-weight: bold;
      padding: 8px 15px;
      border-radius: 4px;
      transition: all 0.3s;
      white-space: nowrap;
      background: rgba(255,255,255,0.1);
    }
    
    .nav a:hover, .nav a:focus {
      background: rgba(46, 125, 50, 0.9);
      color: white;
      outline: none;
    }
    
    .nav a.active {
      background: rgba(46, 125, 50, 0.7);
      color: white;
    }
    
    .main-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 30px 20px 80px;
    }
    
    .faq-header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .faq-header h2 {
      font-size: 36px;
      color: #2e7d32;
      margin-bottom: 15px;
    }
    
    .faq-header p {
      font-size: 18px;
      color: #555;
      max-width: 700px;
      margin: 0 auto;
      line-height: 1.6;
    }
    
    .faq-search {
      margin: 30px auto;
      position: relative;
      max-width: 700px;
    }
    
    .faq-search input {
      width: 100%;
      padding: 15px 20px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      background: rgba(255, 255, 255, 0.95);
      box-shadow: 0 2px 15px rgba(0,0,0,0.05);
      transition: all 0.3s;
    }
    
    .faq-search input:focus {
      outline: none;
      border-color: #2e7d32;
      box-shadow: 0 2px 20px rgba(46, 125, 50, 0.1);
    }
    
    .faq-search i {
      position: absolute;
      right: 20px;
      top: 15px;
      color: #777;
    }
    
    .faq-categories {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
      overflow-x: auto;
      padding-bottom: 10px;
      justify-content: center;
    }
    
    .faq-category {
      padding: 10px 20px;
      background: rgba(46, 125, 50, 0.1);
      border-radius: 20px;
      font-size: 14px;
      font-weight: bold;
      color: #2e7d32;
      cursor: pointer;
      white-space: nowrap;
      transition: all 0.3s;
      border: 1px solid rgba(46, 125, 50, 0.2);
    }
    
    .faq-category:hover, .faq-category.active {
      background: #2e7d32;
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(46, 125, 50, 0.2);
    }
    
    .faq-accordion {
      margin: 30px auto;
      max-width: 900px;
    }
    
    .faq-item {
      background: rgba(255, 255, 255, 0.95);
      margin-bottom: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      overflow: hidden;
      transition: all 0.3s;
      border-left: 4px solid #2e7d32;
    }
    
    .faq-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    }
    
    .faq-question {
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      font-weight: bold;
      font-size: 18px;
      color: #333;
    }
    
    .faq-question i {
      transition: transform 0.3s;
      color: #2e7d32;
    }
    
    .faq-item.active .faq-question i {
      transform: rotate(180deg);
    }
    
    .faq-answer {
      padding: 0 20px;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out, padding 0.3s ease;
      color: #555;
      line-height: 1.6;
    }
    
    .faq-item.active .faq-answer {
      padding: 0 20px 20px;
      max-height: 500px;
    }
    
    .faq-contact {
      background: rgba(255, 255, 255, 0.95);
      padding: 40px;
      border-radius: 8px;
      margin-top: 50px;
      text-align: center;
      box-shadow: 0 5px 20px rgba(0,0,0,0.05);
      border-top: 3px solid #2e7d32;
    }
    
    .faq-contact h3 {
      color: #2e7d32;
      margin-bottom: 20px;
      font-size: 28px;
    }
    
    .faq-contact p {
      margin-bottom: 25px;
      color: #555;
      font-size: 16px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .contact-btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 14px 30px;
      background: #2e7d32;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      border: none;
      transition: all 0.3s;
      font-size: 16px;
      box-shadow: 0 4px 10px rgba(46, 125, 50, 0.3);
    }
    
    .contact-btn:hover {
      background: #1b5e20;
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(46, 125, 50, 0.4);
    }
    
    /* Enhanced Modal Styles */
    .contact-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease-out;
      backdrop-filter: blur(5px);
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .contact-modal-content {
      background: rgba(255,255,255,0.98);
      padding: 40px;
      border-radius: 10px;
      width: 90%;
      max-width: 600px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
      transform: translateY(0);
      transition: transform 0.3s ease-out;
      max-height: 90vh;
      overflow-y: auto;
      border-top: 5px solid #2e7d32;
    }
    
    .contact-modal.active .contact-modal-content {
      transform: translateY(0);
    }
    
    .contact-modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 15px;
      border-bottom: 1px solid rgba(46, 125, 50, 0.2);
    }
    
    .contact-modal-header h3 {
      color: #2e7d32;
      font-size: 26px;
      margin: 0;
    }
    
    .close-modal {
      font-size: 28px;
      cursor: pointer;
      color: #777;
      transition: all 0.3s;
    }
    
    .close-modal:hover {
      color: #c62828;
      transform: rotate(90deg);
    }
    
    .form-group {
      margin-bottom: 25px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 10px;
      font-weight: bold;
      color: #333;
      font-size: 16px;
    }
    
    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 14px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 16px;
      background: rgba(255, 255, 255, 0.95);
      transition: all 0.3s;
    }
    
    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      border-color: #2e7d32;
      box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.2);
      outline: none;
    }
    
    .form-group textarea {
      min-height: 150px;
      resize: vertical;
    }
    
    .submit-btn {
      width: 100%;
      padding: 16px;
      background: #2e7d32;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
      box-shadow: 0 4px 10px rgba(46, 125, 50, 0.3);
    }
    
    .submit-btn:hover {
      background: #1b5e20;
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(46, 125, 50, 0.4);
    }
    
    .submit-btn:disabled {
      background: #cccccc;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    
    .success-message {
      display: none;
      padding: 25px;
      background: rgba(46, 125, 50, 0.1);
      border-radius: 8px;
      margin-top: 30px;
      text-align: center;
      color: #2e7d32;
      font-weight: bold;
      animation: fadeIn 0.5s ease-out;
      border: 1px solid rgba(46, 125, 50, 0.2);
    }
    
    .loading-spinner {
      display: none;
      width: 24px;
      height: 24px;
      border: 3px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .file-upload {
      margin-top: 10px;
    }
    
    .file-upload-label {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 15px;
      background: rgba(46, 125, 50, 0.1);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
      border: 1px dashed rgba(46, 125, 50, 0.3);
    }
    
    .file-upload-label:hover {
      background: rgba(46, 125, 50, 0.2);
    }
    
    .file-upload input {
      display: none;
    }
    
    .file-name {
      margin-top: 8px;
      font-size: 14px;
      color: #666;
    }
    
    footer {
      text-align: center;
      background: rgba(3, 8, 3, 0.95);
      color: #fff;
      padding: 20px;
      font-size: 14px;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      z-index: 10;
    }
    
    /* Responsive adjustments */
    @media (max-width: 992px) {
      .main-content {
        padding: 25px 15px 80px;
      }
      
      .faq-header h2 {
        font-size: 30px;
      }
      
      .faq-header p {
        font-size: 16px;
      }
      
      .faq-question {
        font-size: 17px;
        padding: 18px;
      }
      
      .faq-contact {
        padding: 30px;
      }
      
      .contact-modal-content {
        padding: 30px;
      }
    }
    
    @media (max-width: 768px) {
      header {
        flex-direction: column;
        gap: 10px;
        padding: 10px 15px;
      }
      
      .nav {
        width: 100%;
        justify-content: center;
        flex-wrap: wrap;
      }
      
      .nav a {
        padding: 6px 12px;
        font-size: 14px;
      }
      
      .faq-header h2 {
        font-size: 26px;
      }
      
      .faq-categories {
        justify-content: flex-start;
      }
      
      .faq-question {
        font-size: 16px;
        padding: 15px;
      }
      
      .faq-answer {
        font-size: 14px;
      }
      
      .faq-category {
        padding: 8px 15px;
        font-size: 13px;
      }
      
      .contact-btn {
        padding: 12px 25px;
        font-size: 15px;
      }
      
      .contact-modal-content {
        padding: 25px;
      }
      
      .contact-modal-header h3 {
        font-size: 22px;
      }
    }
    
    @media (max-width: 576px) {
      .logo-title h1 {
        font-size: 22px;
      }
      
      .logo-title video {
        width: 40px;
        height: 40px;
        margin-right: 10px;
      }
      
      .faq-header h2 {
        font-size: 24px;
      }
      
      .faq-header p {
        font-size: 15px;
      }
      
      .faq-contact {
        padding: 25px 20px;
      }
      
      .faq-contact h3 {
        font-size: 22px;
      }
      
      .contact-modal-content {
        padding: 20px;
        width: 95%;
      }
      
      .form-group input,
      .form-group select,
      .form-group textarea {
        padding: 12px;
      }
    }
  </style>
</head>
<body>
  <div class="background-container">
    <video autoplay muted loop playsinline>
      <source src="https://dl.dropboxusercontent.com/scl/fi/grduhrszolyx2ipyvjm64/Logo.mp4?rlkey=z9xijvc8x9cpjs7o2dq3r533b&st=iuyj95p2" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>

  <header>
    <div class="logo-title">
      <video autoplay muted loop playsinline>
        <source src="https://dl.dropboxusercontent.com/scl/fi/grduhrszolyx2ipyvjm64/Logo.mp4?rlkey=z9xijvc8x9cpjs7o2dq3r533b&st=iuyj95p2" type="video/mp4">
      </video>
      <h1 onclick="window.location.href='index.html'">Crypto Trading Market</h1>
    </div>
    <div class="nav">
      <a href="index.html">Home</a>
      <a href="account.html">Account</a>
      <a href="faqs.html" class="active">FAQs</a>
      <a href="javascript:void(0)" onclick="logoutUser()">Logout</a>
    </div>
  </header>

  <div class="main-content">
    <div class="faq-header">
      <h2>Frequently Asked Questions</h2>
      <p>Find answers to common questions about our platform, trading strategies, and account management. Our comprehensive FAQ section is designed to help you navigate the crypto trading world with confidence.</p>
    </div>
    
    <div class="faq-search">
      <input type="text" id="faqSearch" placeholder="Search FAQs...">
      <i>üîç</i>
    </div>
    
    <div class="faq-categories">
      <div class="faq-category active">All Questions</div>
      <div class="faq-category">Account</div>
      <div class="faq-category">Trading</div>
      <div class="faq-category">Deposits</div>
      <div class="faq-category">Withdrawals</div>
      <div class="faq-category">Security</div>
    </div>
    
    <div class="faq-accordion" id="faqAccordion">
      <!-- FAQ items will be loaded dynamically -->
      <div class="faq-item" data-category="account">
        <div class="faq-question">
          How do I create an account?
          <i>‚ñº</i>
        </div>
        <div class="faq-answer">
          <p>To create an account, click on the "Sign Up" button in the top navigation. You'll need to provide your email address, create a strong password, and verify your email. After verification, you can complete your profile with additional security measures and personal information to start trading.</p>
          <p>We recommend enabling two-factor authentication (2FA) immediately after account creation for enhanced security.</p>
        </div>
      </div>
      
      <div class="faq-item" data-category="account">
        <div class="faq-question">
          How do I reset my password?
          <i>‚ñº</i>
        </div>
        <div class="faq-answer">
          <p>If you've forgotten your password, click on "Forgot Password" on the login page. Enter your registered email address and you'll receive instructions to reset your password. The link will expire after 24 hours for security reasons.</p>
          <p>For security purposes, password reset links are only valid for a limited time. If you don't receive the email, please check your spam folder or contact our support team.</p>
        </div>
      </div>
      
      <div class="faq-item" data-category="trading">
        <div class="faq-question">
          What is arbitrage trading?
          <i>‚ñº</i>
        </div>
        <div class="faq-answer">
          <p>Arbitrage trading involves taking advantage of price differences for the same asset across different markets. Our advanced platform automatically identifies these opportunities across multiple exchanges and executes trades at lightning speed to lock in profits from the price discrepancies.</p>
          <p>Our algorithms monitor price differences across 15+ major exchanges in real-time, ensuring you get the best possible arbitrage opportunities.</p>
        </div>
      </div>
      
      <div class="faq-item" data-category="trading">
        <div class="faq-question">
          What cryptocurrencies can I trade?
          <i>‚ñº</i>
        </div>
        <div class="faq-answer">
          <p>We support trading for all major cryptocurrencies including Bitcoin (BTC), Ethereum (ETH), Binance Coin (BNB), and over 100 other altcoins. The full list is available in the trading section of your dashboard, with new coins added regularly based on market demand and liquidity.</p>
          <p>Our platform supports both spot trading and margin trading for qualified users, with competitive fees starting at just 0.1% per trade.</p>
        </div>
      </div>
      
      <div class="faq-item" data-category="deposits">
        <div class="faq-question">
          How do I deposit funds?
          <i>‚ñº</i>
        </div>
        <div class="faq-answer">
          <p>You can deposit funds by navigating to the "Deposit" section in your dashboard. We accept deposits in multiple cryptocurrencies including BTC, ETH, USDT, and other major coins. Simply send your funds to the provided wallet address and they will be credited after blockchain confirmation.</p>
          <p>For your security, we generate a unique deposit address for each transaction. Always verify the address before sending funds and ensure you're sending the correct cryptocurrency type.</p>
        </div>
      </div>
      
      <div class="faq-item" data-category="deposits">
        <div class="faq-question">
          How long do deposits take to process?
          <i>‚ñº</i>
        </div>
        <div class="faq-answer">
          <p>Cryptocurrency deposits typically require 2-6 network confirmations. Bitcoin deposits usually take 10-30 minutes, while Ethereum and other ERC-20 tokens may take 5-15 minutes. Delays can occur during network congestion.</p>
          <p>For faster processing times, we recommend using cryptocurrencies with faster block times like Litecoin (LTC) or Ripple (XRP) when making deposits. You can always check the current network status in your dashboard.</p>
        </div>
      </div>
      
      <div class="faq-item" data-category="withdrawals">
        <div class="faq-question">
          How do I withdraw my funds?
          <i>‚ñº</i>
        </div>
        <div class="faq-answer">
          <p>To withdraw funds, go to the "Withdraw" section in your account dashboard. Enter the amount you wish to withdraw and the destination wallet address. For security, all withdrawals require email confirmation and may require 2FA verification.</p>
          <p>Withdrawals are processed within 30 minutes during business hours (9AM-5PM UTC). For security reasons, large withdrawals may require additional verification and take longer to process.</p>
        </div>
      </div>
      
      <div class="faq-item" data-category="security">
        <div class="faq-question">
          What security measures do you have in place?
          <i>‚ñº</i>
        </div>
        <div class="faq-answer">
          <p>We employ multiple layers of security including:</p>
          <ul style="margin-left: 20px; margin-top: 10px;">
            <li>Two-factor authentication (2FA) for all account actions</li>
            <li>Cold storage for 95% of customer funds</li>
            <li>Multi-signature wallets for added security</li>
            <li>Regular security audits by third-party firms</li>
            <li>Encrypted data transmission and storage</li>
            <li>Withdrawal whitelisting and address verification</li>
          </ul>
          <p style="margin-top: 15px;">We also recommend users enable all available security features in their account settings.</p>
        </div>
      </div>
    </div>
    
    <div class="faq-contact">
      <h3>Still have questions?</h3>
      <p>Our dedicated support team is available 24/7 to help with any questions or issues you may have. Whether you're new to crypto trading or an experienced investor, we're here to ensure your trading experience is smooth and successful.</p>
      <button class="contact-btn" id="contactSupportBtn">
        <span>Contact Support</span>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M8 12H16M12 8V16M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Contact Support Modal -->
  <div class="contact-modal" id="contactModal">
    <div class="contact-modal-content">
      <div class="contact-modal-header">
        <h3>Contact Support</h3>
        <span class="close-modal" id="closeModalBtn">&times;</span>
      </div>
      <form id="supportForm">
        <div class="form-group">
          <label for="supportEmail">Email Address</label>
          <input type="email" id="supportEmail" required>
        </div>
        
        <div class="form-group">
          <label for="supportSubject">Subject</label>
          <select id="supportSubject" required>
            <option value="">Select a subject</option>
            <option value="Account Issues">Account Issues</option>
            <option value="Deposit Problems">Deposit Problems</option>
            <option value="Withdrawal Help">Withdrawal Help</option>
            <option value="Trading Questions">Trading Questions</option>
            <option value="Technical Support">Technical Support</option>
            <option value="Security Concern">Security Concern</option>
            <option value="Other">Other</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="supportMessage">Your Message</label>
          <textarea id="supportMessage" required placeholder="Please describe your issue in detail..."></textarea>
        </div>
        
        <div class="form-group">
          <label>Attachments (Optional)</label>
          <div class="file-upload">
            <label class="file-upload-label">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 15V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V15M17 8L12 3M12 3L7 8M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Choose File</span>
              <input type="file" id="supportAttachment" accept=".jpg,.jpeg,.png,.pdf,.doc,.docx">
            </label>
            <div class="file-name" id="fileName">No file chosen</div>
          </div>
        </div>
        
        <button type="submit" class="submit-btn" id="submitTicketBtn">
          <span>Submit Ticket</span>
          <div class="loading-spinner" id="loadingSpinner"></div>
        </button>
        
        <div class="success-message" id="successMessage">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.709 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18455 2.99721 7.13631 4.39828 5.49706C5.79935 3.85781 7.69279 2.71537 9.79619 2.24013C11.8996 1.7649 14.1003 1.98232 16.07 2.86" stroke="#2e7d32" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M22 4L12 14.01L9 11.01" stroke="#2e7d32" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <p>Your support ticket has been submitted successfully!</p>
          <p>Our team will respond within 24 hours.</p>
        </div>
      </form>
    </div>
  </div>

  <footer>
    ¬© 2025 Crypto Trading Market. All Rights Reserved
  </footer>

  <script>
    // Current user data
    const currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
    const authToken = localStorage.getItem('authToken');

    // DOM Elements
    const contactBtn = document.getElementById('contactSupportBtn');
    const contactModal = document.getElementById('contactModal');
    const closeModalBtn = document.getElementById('closeModalBtn');
    const supportForm = document.getElementById('supportForm');
    const successMessage = document.getElementById('successMessage');
    const submitBtn = document.getElementById('submitTicketBtn');
    const loadingSpinner = document.getElementById('loadingSpinner');
    const fileInput = document.getElementById('supportAttachment');
    const fileNameDisplay = document.getElementById('fileName');
    const faqSearch = document.getElementById('faqSearch');
    const faqCategories = document.querySelectorAll('.faq-category');
    const faqAccordion = document.getElementById('faqAccordion');
    const faqItems = document.querySelectorAll('.faq-item');

    // Initialize FAQ accordion
    function initFAQAccordion() {
      document.querySelectorAll('.faq-question').forEach(question => {
        question.addEventListener('click', () => {
          const item = question.parentNode;
          const isActive = item.classList.contains('active');
          
          // Close all items first
          document.querySelectorAll('.faq-item').forEach(i => {
            i.classList.remove('active');
          });
          
          // Open clicked item if it wasn't active
          if (!isActive) {
            item.classList.add('active');
          }
        });
      });
    }

    // Initialize FAQ search
    function initFAQSearch() {
      faqSearch.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase();
        
        faqItems.forEach(item => {
          const question = item.querySelector('.faq-question').textContent.toLowerCase();
          const answer = item.querySelector('.faq-answer').textContent.toLowerCase();
          
          if (question.includes(searchTerm) || answer.includes(searchTerm)) {
            item.style.display = 'block';
          } else {
            item.style.display = 'none';
          }
        });
      });
    }

    // Initialize FAQ category filtering
    function initFAQCategoryFilter() {
      faqCategories.forEach(category => {
        category.addEventListener('click', () => {
          // Update active category
          faqCategories.forEach(c => c.classList.remove('active'));
          category.classList.add('active');
          
          // Filter FAQs
          const categoryName = category.textContent.trim().toLowerCase();
          faqItems.forEach(item => {
            if (categoryName === 'all questions') {
              item.style.display = 'block';
            } else {
              const itemCategory = item.getAttribute('data-category');
              item.style.display = itemCategory.includes(categoryName) ? 'block' : 'none';
            }
          });
        });
      });
    }

    // Handle file upload display
    fileInput.addEventListener('change', (e) => {
      if (e.target.files.length > 0) {
        fileNameDisplay.textContent = e.target.files[0].name;
      } else {
        fileNameDisplay.textContent = 'No file chosen';
      }
    });

    // Open contact modal
    contactBtn.addEventListener('click', () => {
      contactModal.style.display = 'flex';
      document.body.style.overflow = 'hidden';
      
      // Pre-fill email if user is logged in
      if (currentUser && currentUser.email) {
        document.getElementById('supportEmail').value = currentUser.email;
      }
    });

    // Close contact modal
    function closeModal() {
      contactModal.style.display = 'none';
      successMessage.style.display = 'none';
      document.body.style.overflow = 'auto';
      supportForm.reset();
      fileNameDisplay.textContent = 'No file chosen';
    }

    closeModalBtn.addEventListener('click', closeModal);

    // Close modal when clicking outside
    contactModal.addEventListener('click', (e) => {
      if (e.target === contactModal) {
        closeModal();
      }
    });

    // Handle form submission
    supportForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      // Show loading state
      submitBtn.disabled = true;
      loadingSpinner.style.display = 'block';
      
      // Get form data
      const formData = new FormData();
      formData.append('email', document.getElementById('supportEmail').value);
      formData.append('subject', document.getElementById('supportSubject').value);
      formData.append('message', document.getElementById('supportMessage').value);
      
      if (fileInput.files.length > 0) {
        formData.append('attachment', fileInput.files[0]);
      }
      
      try {
        // Simulate API call (replace with actual API call in production)
        await new Promise(resolve => setTimeout(resolve, 1500));
        
        // Show success
        supportForm.reset();
        successMessage.style.display = 'block';
        submitBtn.disabled = false;
        loadingSpinner.style.display = 'none';
        
        // Close modal after 3 seconds
        setTimeout(() => {
          closeModal();
        }, 3000);
      } catch (error) {
        console.error('Error submitting ticket:', error);
        alert('Error submitting ticket. Please try again.');
        submitBtn.disabled = false;
        loadingSpinner.style.display = 'none';
      }
    });

    // Logout function
    function logoutUser() {
      localStorage.removeItem('currentUser');
      localStorage.removeItem('authToken');
      window.location.href = 'login.html';
    }

    // Initialize page
    document.addEventListener('DOMContentLoaded', () => {
      initFAQAccordion();
      initFAQSearch();
      initFAQCategoryFilter();
      
      // Ensure video plays on mobile
      document.querySelectorAll('video').forEach(video => {
        video.setAttribute('playsinline', '');
        video.setAttribute('webkit-playsinline', '');
        video.play().catch(e => console.log('Video play prevented:', e));
      });
    });
  </script>
</body>
</html>
